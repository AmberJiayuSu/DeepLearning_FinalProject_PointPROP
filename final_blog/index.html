<html>
<head>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>


<link rel="shortcut icon" href="images/icon.ico">
<style type="text/css">
	body {
		background-color: #f4f4f5;
	}

	/* Hide both math displays initially, will display based on JS detection */
  .mathjax-mobile, .mathml-non-mobile { display: none; }

  /* Show the MathML content by default on non-mobile devices */
  .show-mathml .mathml-non-mobile { display: block; }
  .show-mathjax .mathjax-mobile { display: block; }

	.content-margin-container {
		display: flex;
		width: 100%; /* Ensure the container is full width */
		justify-content: center; /* Horizontally centers the children in the container */
		align-items: center;  /* Vertically centers the children in the container */
	}
	.main-content-block {
		width: 75%; /* Change this percentage as needed */
    	/*max-width: 1100px; /* Optional: Maximum width */
		background-color: #fff;
		/* border-left: 1px solid #DDD;
		border-right: 1px solid #DDD; */
		padding: 8px 15em 8px 15em;
		font-family: "Open Sans", sans-serif;
		font-weight: lighter;
	}
	.margin-left-block {
			font-size: 16px;
			width: 25%; /* Change this percentage as needed */
			/*max-width: 130px; /* Optional: Maximum width */
			position: relative;
			margin-left: 10px;
			text-align: left;
			font-family: "Open Sans", sans-serif;
			font-weight: lighter;
			padding: 5px;
	}

	img {
			max-width: 100%; /* Make sure it fits inside the container */
			height: auto;
			display: block;
			margin: auto;
	}
	.my-video {
			max-width: 100%; /* Make sure it fits inside the container */
			height: auto;
			display: block;
			margin: auto;
	}
	/* Hide both video displays initially, will display based on JS detection */
  .vid-mobile, .vid-non-mobile { display: none; }

  /* Show the video content by default on non-mobile devices */
  .show-vid-mobile .vid-mobile { display: block; }
  .show-vid-non-mobile .vid-non-mobile { display: block; }

	a:link,a:visited
	{
		color: black;
    	text-decoration: underline;
	}
	a:hover {
		color: white;
    	background-color: black;
	}

	h1 {
		font-size: 24px;
		margin-top: 4px;
		margin-bottom: 10px;
		font-family: 'Open Sans', sans-serif;
	}

	p {
		line-height: 1.25; /* Adjust the value as needed for desired spacing */
	}

	table.header {
    font-weight: 300;
    font-size: 17px;
    flex-grow: 1;
		width: 80%;
    max-width: calc(100% - 200px); /* Adjust according to the width of .paper-code-tab */
	}
	table td, table td * {
	    vertical-align: middle;
	    position: relative;
	}
	table.paper-code-tab {
	    flex-shrink: 0;
	    margin-left: 8px;
	    margin-top: 8px;
	    padding: 0px 0px 0px 8px;
	    width: 290px;
	    height: 150px;
	}

	.layered-paper { /* modified from: http://css-tricks.com/snippets/css/layered-paper/ */
		box-shadow:
		        0px 0px 1px 1px rgba(0,0,0,0.35), /* The top layer shadow */
		        5px 5px 0 0px #fff, /* The second layer */
		        5px 5px 1px 1px rgba(0,0,0,0.35), /* The second layer shadow */
		        10px 10px 0 0px #fff, /* The third layer */
		        10px 10px 1px 1px rgba(0,0,0,0.35); /* The third layer shadow */
		margin-top: 5px;
		margin-left: 10px;
		margin-right: 30px;
		margin-bottom: 5px;
	}

	hr {
    height: 1px; /* Sets the height of the line to 1 pixel */
    border: none; /* Removes the default border */
    background-color: #DDD; /* Sets the line color to black */
  }

	div.hypothesis {
		width: 80%;
		background-color: #EEE;
		border: 1px solid black;
		border-radius: 10px;
		-moz-border-radius: 10px;
		-webkit-border-radius: 10px;
		font-family: Courier;
		font-size: 18px;
		text-align: center;
		margin: auto;
		padding: 16px 16px 16px 16px;
	}

	div.citation {
    font-size: 0.8em;
    background-color:#fff;
    padding: 10px;
		height: 200px;
  }

	.fade-in-inline {
		position: absolute;
		text-align: center;
		margin: auto;
		-webkit-mask-image: linear-gradient(to right,
																			transparent 0%,
																			transparent 40%,
																			black 50%,
																			black 90%,
																			transparent 100%);
		mask-image: linear-gradient(to right,
																transparent 0%,
																transparent 40%,
																black 50%,
																black 90%,
																transparent 100%);
		-webkit-mask-size: 8000% 100%;
		mask-size: 8000% 100%;
		animation-name: sweepMask;
		animation-duration: 4s;
		animation-iteration-count: infinite;
		animation-timing-function: linear;
		animation-delay: -1s;
	}

	.fade-in2-inline {
			animation-delay: 1s;
	}

	.inline-div {
			position: relative;
	    display: inline-block; /* Makes both the div and paragraph inline-block elements */
	    vertical-align: top; /* Aligns them at the top, you can adjust this to middle, bottom, etc., based on your needs */
	    width: 50px; /* Optional: Adds space between the div and the paragraph */
	}

	.nav-item {
		display: block;
		margin: 12px 0 4px 15px; /* top right bottom left */
	}

	

</style>

	  <title>PointPROP</title>
      <meta property="og:title" content="PointPROP: Parallel Ray Occlusion Prediction for Point Clouds" />
			<meta charset="UTF-8">
  </head>

  <body>

		<div class="content-margin-container">
				<div class="margin-left-block">
				</div>
		    <div class="main-content-block">
						<table class="header" align=center>
								<tr>
									<td align=center colspan=4 style="padding-bottom:1em; padding-top:3em;">
										<span style="font-size: 42px; font-family: 'Open Sans', sans-serif, monospace; font-weight: bold; /* Adds fallbacks */">PointPROP: Parallel Ray Occlusion Prediction for Point Clouds</span>
									</td>
								</tr>
								<tr>
									<td colspan=4 align=center  style="padding-bottom:3em;"><span style="font-size:18px">Final project for 6.7960, MIT</span></td>
								</tr>
								<tr>
										<td align=center>
												<span style="font-size:17px"><a href="https://amberjiayusu.github.io">Amber Jiayu Su</a></span>
										</td>
										<td align=center>
												<span style="font-size:17px"><a href="https://www.linkedin.com/in/erickylecheung/">Eric Kyle Cheung</a></span>
										</td>
								</tr>
								
						</table>
					</div>
		</div>

		<div class="content-margin-container" id="intro">
				<div class="margin-left-block">
          <!-- table of contents here -->
          <div style="position:fixed; max-width:inherit; top:max(20%,120px)">
				<b style="font-size:18px">Outline</b><br><br>
				<a href="#intro">Introduction</a><br>
				<span class="nav-item"><a href="#motivation">Motivation</a></span>
			    <span class="nav-item"><a href="#previous_work">Previous Work</a></span>
				<span class="nav-item"><a href="#proposal">Proposal</a></span><br>
				<a href="#experiments">Experiments</a><br>
				<span class="nav-item"><a href="#data">Data</a></span>
			    <span class="nav-item"><a href="#architecture">Architecture</a></span>
				<span class="nav-item"><a href="#basic_training">Basic Training</a></span>
				<span class="nav-item"><a href="#task_specific_data_augmentation">Task-specific Data Augmentation</a></span>
				<span class="nav-item"><a href="#evaluation">Evaluation</a></span><br>
				<a href="#results">Results</a><br><br>
				<a href="#discussion">Discussion</a><br><br>
				<a href="#future_work_and_limitations">Future Work and Limitations</a><br><br>
          </div>
			</div>
		    <div class="main-content-block">
            <!--You can embed an image like this:-->
            <img src="./images/your_image_here.png" width=512px/>
		    </div>
		</div>

    <div class="content-margin-container" id="intro">
				<div class="margin-left-block">
				</div>
		    <div class="main-content-block">
				<h1>Introduction</h1>

				<h2 id="motivation" style="font-size: 16px; margin-top: 20px; margin-bottom: 10px;">Motivation</h2>
				<p>
					The assessment of solar potential and shading is central to climate and energy research, supporting applications such as photovoltaic yield estimation and building energy simulation. While annual metrics are common, they miss critical temporal variation: sky conditions, and solar angles, affecting peak loads and hour-level PV output. Point-in-time radiation is therefore essential for capturing these dynamics.
				<!-- </p>
				<p> -->
					Urban radiation analysis typically relies on 3D models constructed from GIS footprints and airborne LiDAR point clouds. GIS provides 2D building outlines, while LiDAR supplies dense 3D samples of surfaces. Combined, these datasets form the basis for physics-based simulations/analysis that evaluate how solar rays interact with surrounding geometry.
				</p>
				<p>
					However, relying on GIS-based surfaces and reconstructed geometries presents practical limitations: <span style=" background-color: #ededf3; padding: 3px 3px; border-radius: 4px; font-weight: 400;">(1)</span> Comprehensive coverage of spatial information cannot depend on GIS alone. <span style=" background-color: #ededf3; padding: 3px 3px; border-radius: 4px; font-weight: 400;">(2)</span> Converting raw LiDAR point clouds (rich but non-volumetric samples) into surface or volumetric geometry is computationally expensive and often fails on complex urban forms, sometimes requiring manual cleanup.  <span style=" background-color: #ededf3; padding: 3px 3px; border-radius: 4px; font-weight: 400;">(3)</span> Even after preprocessing, point-in-time ray-tracing remains slow and costly.
				</p>
				<p> 
					Therefore, given the increasing availability of large-scale LiDAR data that provides rich 3D context, there is a need for methods that can directly leverage raw point clouds to estimate solar radiation efficiently at fine temporal scales. This project works towards this goal by developing a deep-learning-based surrogate model that predicts point-in-time parallel (assuming solar rays are parallel) ray occlusion from unprocessed urban LiDAR point clouds.
				</p>

				<p> 
					We need to talk something more DL here. what are the DL questions we are trying to answer in this project.
				</p>
			
				<h2 id="previous_work" style="font-size: 16px; margin-top: 20px; margin-bottom: 10px;">Previous Work</h2>
				<p>
					TODO: What people are currently doing related to this problem?
				</p>
				<p>
					(1) physical based, (a) common practice/industry practice - clean geometry, that does not handle the complex (b) on the research side, people use point cloud or dsm to do physical based simulation / estimation without the need for cleaning the geometry. 
					(2) learning based - some recent work using learning based method for solar radiation estimation, but they mostly focus on annual or monthly scale.
				</p>

				<p>
					TODO: WOrk in ML on point cloud in urban space understanding
				</p>
				<p>
					Point cloud encoders for spatial understanding

					PointNet / PointNet++ — foundational to point cloud

					RandLA-Net —  for large outdoor scenes segmentation, good at capturing local structure; widely used for urban-scale classification.

					Point Transformer / PTv3 — attention-based, excels at capturing long-range occlusion patterns needed for radiation prediction.

					Sparse voxel or octree networks (e.g., MinkowskiNet, spconv-based models) — efficient in large-scale 3D scenes.
				</p>
				<p>
					Visibility prediction / ray-based occlusion learning

					(NeRV, ray classification networks, shadow detection networks) — relevant because solar radiation ≈ “sun visibility probability × intensity.”

					maybe other visibility work?
				</p>

				<h2 id="proposal" style="font-size: 16px; margin-top: 20px; margin-bottom: 10px;">Proposal</h2>
				<p>
					In short, we model this as a binary classification task and develop a surrogate model to approximate the occlusion-testing function, which determines, for each test point in \(\text{pts}_{\text{test}}\), whether a given \(\text{ray}\) is blocked by the surrounding context geometry \(\text{pts}_{\text{context}}\):
				</p>
				<p>
					\[
						f(\text{pts}_{\text{context}},\, \text{pts}_{\text{test}},\, \text{ray}) \; \in \; \{0,1\}^m
					\]
					where
					\(\text{pts}_{\text{context}} \in \mathbb{R}^{n \times 3}\),
					\(\text{pts}_{\text{test}} \in \mathbb{R}^{m \times 3}\), and
					\(\text{ray} \in \mathbb{R}^3\).
				</p>


		    </div>
		</div>

		<div class="content-margin-container" id="experiments">
				<div class="margin-left-block">
				</div>
		    <div class="main-content-block">
				<h1>Experiments</h1>
				<h2 id="data" style="font-size: 16px; margin-top: 20px; margin-bottom: 10px;">Data</h2>
				<p>
					Urban-scale LiDAR point clouds (often containing billions of points) are partitioned into fixed-size blocks under computational constraints. From each block, we extract (1) context points, (2) test points, (3) a solar ray direction, and (4) binary occlusion labels indicating whether each test point is blocked along that ray. These components form the input–output pairs used to train our model.
				</p>
				<p>
					In short, the ground truth is produced via voxelization of each point and a subsequent physics based simulation. Voxelization converts points into a three dimensional grid of cells, with each volumetric cell being solid or empty. Empty cells allow solar rays to pass through. 
				</p>
				  	
          <center>
            <math xmlns="http://www.w3.org/1998/Math/MathML">
              <mrow>
                <mrow>
                  <mo>&#x2202;</mo>
                  <mi>y</mi>
                </mrow>
                <mo>/</mo>
                <mrow>
                  <mo>&#x2202;</mo>
                  <mi>x</mi>
                </mrow>
              </mrow>
              <mo>=</mo>
              <mi>x</mi>
            </math>
          </center>
          <br>
          It's probably best to ask an LLM to help do the web
          formatting for math. You can tell it "convert this latex equation into MathML: $$\frac{\partial dy}{\partial dx} = x$$"
          But it took me a few tries. So, if you get frustrated, you can embed an image of the equation, or use other packages for
          rendering equations on webpages.
		    </div>
		</div>

		<div class="content-margin-container">
				<div class="margin-left-block">
				</div>
		    <div class="main-content-block">
            <h1>Another section</h1>
            In this section we embed a video:
						<video class='my-video' loop autoplay muted style="width: 725px">
								<source src="./images/mtsh.mp4" type="video/mp4">
						</video>
		    </div>
		</div>

		<div class="content-margin-container" id="implications_and_limitations">
				<div class="margin-left-block">
				</div>
		    <div class="main-content-block">
						<h1>Implications and limitations</h1>
						Let's end with some discussion of the implications and limitations.
		    </div>
		</div>

		<div class="content-margin-container" id="citations">
				<div class="margin-left-block">
				</div>
		    <div class="main-content-block">
						<div class='citation' id="references" style="height:auto"><br>
							<span style="font-size:16px">References:</span><br><br>
							<a id="ref_1"></a>[1] <a href="https://en.wikipedia.org/wiki/Allegory_of_the_cave">Allegory of the Cave</a>, Plato, c. 375 BC<br><br>
							<a id="ref_2"></a>[2] <a href="">A Human-Level AGI</a>, OpenAI, 2025<br><br>
						</div>
		    </div>
		</div>

	</body>

</html>



